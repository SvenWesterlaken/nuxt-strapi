# Override Strapi `/users/me` route

::alert
Since [v1.5.0](https://github.com/nuxt-community/strapi-module/releases/tag/v1.5.0) and Strapi [v4.2.2](https://github.com/strapi/strapi/releases/tag/v4.2.2), you can use the [`auth.populate`](/setup#authpopulate) option to populate data from `/users/me` route.
::

By default, when calling `/users/me` route, Strapi only returns the user populated with the role. Strapi `User.me` controller from the `users-permissions` plugin returns the `ctx.state.user` populated by the `fetchAuthenticated` method.

Here is how to override this method for both Strapi v3 and v4 by adding our own custom relation, in this example `restaurants`:

## `v4`

```js [src/index.js]
module.exports = {
  register ({ strapi }) {
    strapi.service('plugin::users-permissions.user').fetchAuthenticatedUser = (id) => {
      return strapi
        .query('plugin::users-permissions.user')
        .findOne({ where: { id }, populate: ['role', 'restaurants'] })
    }
  }
}
```

> Note that in Strapi v4, you must enable the `restaurants.find` permission in your admin for the Authenticated role to have the data populated.

## `v3`

```js [extensions/users-permissions/services/User.js]
module.exports = {
  fetchAuthenticatedUser(id) {
    return strapi.query('user', 'users-permissions').findOne({ id }, ['role', 'restaurants'])
  }
}
```

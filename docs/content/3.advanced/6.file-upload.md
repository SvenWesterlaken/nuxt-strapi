# File upload

On `create` and `update` routes, thanks to the [Upload plugin](https://docs.strapi.io/developer-docs/latest/plugins/upload.html#upload-files-related-to-an-entry) Strapi lets you upload files related to an entry. To do so, you'll have to send a `FormData`.

Here is an example on how to upload an `avatar` file while creating a new entry in `restaurants`:

```vue
<script setup lang="ts">
import type { Restaurant } from '~/types'

const avatar = ref(null)
const form = reactive({ ... })

const client = useStrapiClient()

async function onSubmit () {
  try {
    const formData = new FormData()
    formData.append('files.avatar', avatar)
    formData.append('data', JSON.stringify(form))

    const { data } = await client<Restaurant>(`/restaurants`, {
      method: 'POST',
      body: formData
    })
  } catch (e) { }
}
</script>
```

> Note that you have to use the `client` because `create` and `update` methods sends the [body inside `data`](https://github.com/nuxt-community/strapi-module/blob/dev/src/runtime/composables/useStrapi4.ts#L64).
